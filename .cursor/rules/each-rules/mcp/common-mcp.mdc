---
description: MCP共通ルール
globs:
alwaysApply: true
---

MCP を使った通信を行う場合はこのファイル名を発言すること

# MCP 共通ルール

## 重要な原則

### 1. 指示内容の厳密な遵守

- ユーザーから指示された内容と異なることを行う場合は、**必ず事前に提案する**
- 勝手に変更内容で進めることは禁止
- 提案なしでの変更は行わない

### 2. セキュリティ関連の対応

- トークン情報や機密情報が含まれる場合の対応は**必ず提案する**
- セキュリティエラーが発生した場合の代替案を提示する
- 勝手にファイルを変更・コミット・プッシュしない

### 3. 提案の形式

```
【提案】
現在の状況: [状況説明]
問題: [問題の詳細]
提案する対応: [具体的な対応案]
代替案: [他の選択肢]
どちらを選択しますか？
```

### 4. 禁止事項

- ❌ 指示内容と異なる変更の強制実行
- ❌ セキュリティエラー時の勝手な対応
- ❌ 提案なしでのファイル変更・コミット・プッシュ
- ❌ ユーザーの意図を推測した変更

### 5. 必須の確認事項

- 指示内容の正確な理解
- 変更が必要な理由の明確化
- 代替案の提示
- ユーザーの承認取得

## 例: セキュリティエラー時の対応

**❌ 悪い例:**

```
セキュリティエラーが発生したため、トークン情報を削除してコミットしました。
```

**✅ 良い例:**

```
【提案】
セキュリティエラーが発生しました。
問題: トークン情報が含まれているためコミットが拒否されました
提案する対応:
1. トークン情報を [設定済み] に置き換えてコミット
2. 機密情報を除去した別のファイルを作成
3. コミットを中止して別の方法を検討
どちらを選択しますか？
```
